(function(){"use strict";var e={1696:function(e,t,a){var s=a(144),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{staticStyle:{"overflow-y":"hidden","font-family":"'Fira Sans', sans-serif"}},[a("Navbar"),a("Tour"),a("v-main",[a("router-view")],1)],1)},o=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticStyle:{"flex-grow":"0"}},[a("v-toolbar",{attrs:{dark:""}},[a("v-toolbar-title",{staticClass:"text-uppercase container",staticStyle:{width:"unset !important"}},[a("span",{staticClass:"font-weight-black",staticStyle:{color:"#64c57c"}},[e._v("Forest")]),a("span",[e._v("Dash")]),a("span",{staticStyle:{"font-size":"10px"}},[e._v(" BETA")])]),a("v-spacer"),a("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:""},on:{click:e.startTour}},"v-btn",i,!1),s),[a("v-icon",[e._v("mdi-human-male-board")])],1)]}}])},[a("span",[e._v("Dashboard How-To Guide")])]),a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",i,!1),s),[a("v-icon",[e._v("mdi-information")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 py-9"},[e._v(" About Forest Dash ")]),a("v-divider"),a("v-card-text",{staticClass:"py-4"},[e._v(" Summary dashboard displaying forests canopy density, forest type, land cover and forest availability for listed forests in East Africa. Interact with map and analytical elements of the dashboard to generate inferences. ")]),a("v-divider")],1)],1)],1)],1)},n=[],l={data(){return{dialog:!1}},methods:{startTour(){this.$tours["explanatoryTour"].start()}}},c=l,d=a(1001),u=a(3453),p=a.n(u),m=a(680),h=a(3237),v=a(7118),f=a(7336),y=a(1418),g=a(6428),b=a(9762),_=a(6656),S=a(7921),C=a(9330),T=(0,d.Z)(c,r,n,!1,null,"664ed630",null),A=T.exports;p()(T,{VBtn:m.Z,VCard:h.Z,VCardText:v.ZB,VCardTitle:v.EB,VDialog:f.Z,VDivider:y.Z,VIcon:g.Z,VSpacer:b.Z,VToolbar:_.Z,VToolbarTitle:S.qW,VTooltip:C.Z});var E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("WelcomeDialog"),a("v-tour",{attrs:{name:"explanatoryTour",steps:e.isMobile?e.mobileSteps:e.desktopSteps,callbacks:e.callBacks,options:{highlight:!0}},scopedSlots:e._u([{key:"default",fn:function(t){return[a("transition",{attrs:{name:"fade"}},[t.steps[t.currentStep]?a("v-step",{key:t.currentStep,attrs:{step:t.steps[t.currentStep],"previous-step":t.previousStep,"next-step":t.nextStep,stop:t.stop,skip:t.skip,"is-first":t.isFirst,"is-last":t.isLast,finish:t.finish,labels:t.labels,highlight:t.highlight,enableScrolling:t.enableScrolling}},[[a("div",{attrs:{slot:"header"},slot:"header"},[a("b",[e._v("DASHBOARD TOUR ("+e._s(t.currentStep+1)+"/"+e._s(t.steps.length)+")")])])]],2):e._e()],1)]}}])})],1)},x=[],w=a(629),I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{width:"900px"},model:{value:e.welcomeDialog,callback:function(t){e.welcomeDialog=t},expression:"welcomeDialog"}},[a("v-card",{staticClass:"pa-10"},[a("v-card-title",{staticClass:"justify-center"},[a("p",{staticClass:"text-h5 font-weight-light",staticStyle:{"word-break":"normal"}},[e._v("Welcome to Forest Dash!")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.welcomeDialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("v-card-text",[a("a",{staticClass:"grey--text text--darken-3 font-weight-medium",staticStyle:{"font-size":"14px"},on:{click:function(t){return e.startTour()}}},[a("v-btn",{attrs:{icon:"",color:"#4caf4f"}},[a("v-icon",[e._v("mdi-human-male-board")])],1),e._v(" Take a quick tour guide through the Forest Dash and learn how to navigate within it. "),a("v-btn",{attrs:{icon:"",color:"#4caf4f"}},[a("v-icon",[e._v("mdi-arrow-right-bold")])],1)],1)])],1)],1)},L=[],F={name:"WelcomeDialog",data(){return{welcomeDialog:!1}},computed:{...(0,w.rn)({isMobile:e=>e.ui.isMobile})},methods:{startTour(){this.isDual&&(this.$store.dispatch("toggleMapAnalysis"),this.$store.dispatch("toggleDual")),this.$tours["explanatoryTour"].start(),this.welcomeDialog=!1}},mounted(){const e="undefined"===typeof window,t=!e&&JSON.parse(localStorage.getItem("forestModalHidden"));t||setTimeout((()=>{this.welcomeDialog=!0}),1e3),e||localStorage.setItem("forestModalHidden",!0)}},D=F,k=(0,d.Z)(D,I,L,!1,null,"c70c507a",null),O=k.exports;p()(k,{VBtn:m.Z,VCard:h.Z,VCardText:v.ZB,VCardTitle:v.EB,VDialog:f.Z,VIcon:g.Z,VSpacer:b.Z});var Z={name:"Tour",components:{WelcomeDialog:O},computed:{...(0,w.rn)({isMobile:e=>e.ui.isMobile})},data(){return{callBacks:{},desktopSteps:[{target:'[data-tour-step="datasets"]',content:"Switch between datasets using these tabs. Toggles layer on map",params:{placement:"right",enableScrolling:!1}},{target:'[data-tour-step="metadata"]',content:"View Layer Metadata info here.",params:{placement:"right",enableScrolling:!1,highlight:!1}},{target:'[data-tour-step="aoi"]',content:"Area of Interest configuration Section: Set up admin boundaries. Defaults to East Africa Region. Select country and forest",params:{placement:"right",enableScrolling:!1}},{target:'[data-tour-step="config"]',content:"For datasets with configuration parameters they can be set here. eg Period, Platform, etc",params:{placement:"right",enableScrolling:!1}},{target:'[data-tour-step="map"]',content:"The map section shows active dataset enabled from the tabs section. Here you can click, pan, zoom and identify/analyse data.",params:{placement:"right",enableScrolling:!1}},{target:'[data-tour-step="analysis"]',content:"Analysis Section: Depending on the layer selected, the date and area of interest, graphs will be displayed. If analysing a single forest, a timeseries animation will also be displayed for download",params:{placement:"left",enableScrolling:!1}}],mobileSteps:[]}},methods:{finishTour(){},nextStep(e){}}},N=Z,$=(0,d.Z)(N,E,x,!1,null,"1c752164",null),V=$.exports,R={name:"App",components:{Navbar:A,Tour:V}},M=R,B=a(7524),P=a(7877),G=(0,d.Z)(M,i,o,!1,null,null,null),U=G.exports;p()(G,{VApp:B.Z,VMain:P.Z});var Y=a(8345),z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isMobile?a("Mobile"):a("Desktop")},j=[],H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",{staticStyle:{height:"93vh"},attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"3"}},[a("v-tabs",{staticStyle:{height:"100%","max-height":"93vh"},attrs:{vertical:"","icons-and-text":"",height:"","background-color":"#efefef",color:"grey darken-4","data-tour-step":"datasets"},on:{change:e.updateIndicator},model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[e._l(e.indicators,(function(t){return a("v-tab",{key:t.id,staticStyle:{"font-size":"11px !important"}},[e._l(t.name.split(" ").reverse(),(function(t){return a("span",{key:t},[e._v(" "+e._s(t))])})),a("v-icon",{attrs:{color:t.icon.color}},[e._v(" "+e._s(t.icon.name)+" ")])],2)})),e._l(e.indicators,(function(e){return a("v-tab-item",{key:e.id,staticStyle:{"max-height":"93vh !important","overflow-y":"auto"}},[a("Layer",{attrs:{currentIndicator:e}})],1)}))],2)],1),a("v-col",{staticClass:"grey darken-3",staticStyle:{"background-color":"#333",height:"auto"},attrs:{cols:"5"}},[a("Map")],1),a("v-col",{attrs:{cols:"4"}},[a("v-container",{staticStyle:{"max-height":"92vh !important","overflow-y":"auto"},attrs:{"data-tour-step":"analysis"}},[e.activeIndicator.res.analysis?a("div",[a("v-row",[a("v-col",[a("TimeSeries",{attrs:{indicator:e.activeIndicator}})],1)],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",[a("Pie",{attrs:{indicator:e.activeIndicator}})],1)],1),a("v-divider"),a("v-row",[a("v-col",[a("Bar",{attrs:{indicator:e.activeIndicator}})],1)],1)],1):a("div",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-skeleton-loader",e._b({attrs:{type:"card-avatar, article, card-avatar, article"}},"v-skeleton-loader",e.attrs,!1))],1)],1)],1)])],1)],1)],1)},q=[],J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100%"},attrs:{"data-tour-step":"map"}},[a("MglMap",{attrs:{accessToken:e.accessToken,mapStyle:e.mapStyle,center:e.center,zoom:e.zoom,attributionControl:!1},on:{"update:mapStyle":function(t){e.mapStyle=t},"update:map-style":function(t){e.mapStyle=t},load:e.onMapLoaded}},[a("MglScaleControl",{attrs:{position:"bottom-right"}}),a("MglNavigationControl",{attrs:{position:"top-left"}}),e.layerLoading?a("div",{staticClass:"loader"},[a("div",{staticClass:"lds-ellipsis"},[a("div"),a("div"),a("div"),a("div")])]):e._e(),a("Legend"),e.isMobile?a("BottomNav"):e._e()],1)],1)},W=[],K=a(7889),Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"float-end ma-2",staticStyle:{postion:"absolute"},attrs:{"data-tour-step":"map"}},[a("v-card",{staticClass:"mx-auto rounded-sm",staticStyle:{"overflow-y":"auto"},attrs:{"max-width":"200px","min-width":"150px","max-height":"85vh",light:""}},[a("v-expansion-panels",{attrs:{multiple:""},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[a("v-expansion-panel",[a("v-expansion-panel-header",{staticClass:"subtitle-2 font-weight-medium grey--text text--darken-4"},[e._v(" LEGEND ")]),a("v-divider"),a("v-expansion-panel-content",{staticClass:"legendPanel"},[a("v-list",{staticClass:"transparent"},[a("div",{staticStyle:{"background-color":"white"}},[a("v-list-item",[a("v-list-item-content",{staticClass:"px-1"},[a("p",{staticClass:"\n                      body-2\n                      font-weight-medium\n                      grey--text\n                      text--darken-3\n                      pb-1\n                    "},[e._v(" "+e._s(e.activeIndicator.legendConfig.title)+" ")]),e._l(e.activeIndicator.legendConfig.items,(function(t){return a("v-list-item-title",{key:t.name,staticClass:"body-2 text-wrap",staticStyle:{"font-size":"12px !important"}},[a("v-avatar",{staticClass:"legend-avatar",attrs:{color:t.color,size:"10"}}),e._v(" "+e._s(t.name)+" ")],1)}))],2)],1),a("v-divider"),a("v-list-item",[a("v-list-item-content",{staticClass:"px-1"},[a("p",{staticClass:"\n                      body-2\n                      font-weight-medium\n                      grey--text\n                      text--darken-3\n                      pb-1\n                    "},[e._v(" Background ")]),a("v-list-item-title",{staticClass:"body-2 text-wrap",staticStyle:{"font-size":"12px !important"}},[a("v-avatar",{staticClass:"legend-line",staticStyle:{height:"4px"},attrs:{color:"#116e00",size:"15"}}),e._v(" Forest Boundary ")],1),a("v-list-item-title",{staticClass:"body-2 text-wrap",staticStyle:{"font-size":"12px !important"}},[a("v-avatar",{staticClass:"legend-line",staticStyle:{height:"4px"},attrs:{color:"#a08005",size:"15"}}),e._v(" Country Boundary ")],1)],1)],1)],1)])],1)],1)],1)],1)],1)},X=[],ee={name:"Legend",data(){return{panel:[0]}},computed:{...(0,w.Se)({activeIndicator:"ACTIVE_INDICATOR"})}},te=ee,ae=a(6370),se=a(6845),ie=a(2443),oe=a(1192),re=a(5630),ne=a(6816),le=a(7620),ce=a(4051),de=(0,d.Z)(te,Q,X,!1,null,null,null),ue=de.exports;p()(de,{VAvatar:ae.Z,VCard:h.Z,VDivider:y.Z,VExpansionPanel:se.Z,VExpansionPanelContent:ie.Z,VExpansionPanelHeader:oe.Z,VExpansionPanels:re.Z,VList:ne.Z,VListItem:le.Z,VListItemContent:ce.km,VListItemTitle:ce.V9});var pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{attrs:{light:"",flat:""}},[a("v-card-text",[a("h3",{staticClass:"font-weight-regular pb-2"},[e._v("East Africa Boundaries")]),a("p",[a("b",[e._v("Country: ")]),e._v(e._s(e.countryName))]),a("p",[a("b",[e._v("Forest:")]),e._v(" "+e._s(e.params.forest_name))])]),a("div",{staticClass:"text-center"},[a("v-btn",{staticClass:"px-14",attrs:{rounded:"",color:"#116e00",dark:""},on:{click:function(t){return e.analyzeArea()}}},[e._v(" Analyze ")])],1)],1)],1)},me=[],he=a(5324),ve=a(6486),fe=a.n(ve),ye={name:"Popup",props:["params"],computed:{formatArea(e=!0){return(0,he.WU)(".3s")(this.params.area).replace("G",e?"B":" billion").replace("M",e?"M":" million").replace("K",e?"K":" thousand")},countryName(){return fe().capitalize(this.params.country)},...(0,w.rn)({forests:e=>e.boundary.forests})},methods:{async analyzeArea(){const{iso:e,id:t}=this.params;this.$store.commit("UPDATE_COUNTRY",e),this.$store.commit("UPDATE_FOREST",t.toString());let a=this.forests.features.find((e=>e.properties.id===t.toString()));this.$store.commit("SET_BOUNDARY",{features:[a],type:"FeatureCollection"});const s=document.getElementsByClassName("mapboxgl-popup");s.length&&s[0].remove()}}},ge=ye,be=(0,d.Z)(ge,pe,me,!1,null,null,null),_e=be.exports;p()(be,{VBtn:m.Z,VCard:h.Z,VCardText:v.ZB});var Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-bottom-navigation",{staticStyle:{"z-index":"1000","background-color":"#f2f2f2",position:"fixed !important"},attrs:{grow:"",color:"green"}},[a("v-btn",{staticStyle:{"border-right":"1px solid rgb(221 221 221)"},attrs:{"data-tour-step":"layers-mobile"},on:{click:e.toggleTabLayers}},[a("span",[e._v("Layers")]),a("v-icon",[e._v("mdi-earth")])],1),a("v-bottom-sheet",{attrs:{"hide-overlay":""},model:{value:e.layers,callback:function(t){e.layers=t},expression:"layers"}},[a("v-sheet",{staticStyle:{bottom:"56px !important",position:"absolute !important","box-shadow":"0px -2px 2px #8886"},attrs:{height:"230px"}},[a("div",{staticClass:"my-1 px-4"},[a("v-row",{staticStyle:{"align-items":"center"},attrs:{"no-gutters":""}},[a("v-col",[e._v("LAYERS")]),a("v-col",[a("v-btn",{staticClass:"float-end",attrs:{icon:""},on:{click:function(t){e.layers=!1}}},[a("v-icon",[e._v("mdi-chevron-down")])],1)],1)],1)],1),a("v-divider"),a("div",{staticStyle:{"overflow-y":"auto",height:"200px"}},[a("v-container",{staticClass:"pt-0"},[a("v-radio-group",{attrs:{column:""},model:{value:e.selectedIndicator,callback:function(t){e.selectedIndicator=t},expression:"selectedIndicator"}},e._l(e.indicators,(function(e){return a("v-radio",{key:e.id,attrs:{label:e.name,color:e.icon.color,value:e.id}})})),1)],1)],1)],1)],1),a("v-btn",{attrs:{"data-tour-step":"analysis-mobile"},on:{click:e.toggleTabAnalysis}},[a("span",[e._v("Analysis")]),a("v-icon",[e._v("mdi-chart-bar")])],1),a("v-bottom-sheet",{attrs:{"hide-overlay":"",scrollable:""},model:{value:e.analysis,callback:function(t){e.analysis=t},expression:"analysis"}},[a("v-sheet",{staticStyle:{bottom:"56px !important",position:"absolute !important","box-shadow":"0px -2px 2px #8886"},attrs:{height:"400px"}},[a("div",{staticClass:"my-1 px-4"},[a("v-row",{staticStyle:{"align-items":"center"},attrs:{"no-gutters":""}},[a("v-col",[e._v("ANALYSIS")]),a("v-col",[a("v-btn",{staticClass:"float-end",attrs:{icon:""},on:{click:function(t){e.analysis=!1}}},[a("v-icon",[e._v("mdi-chevron-down")])],1)],1)],1)],1),a("v-divider"),a("div",{staticStyle:{"overflow-y":"auto",height:"354px"}},[a("v-container",{staticClass:"pt-0"},[a("div",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",[a("Layer",{attrs:{currentIndicator:e.activeIndicator}})],1)],1)],1),a("v-divider"),e.activeIndicator.res.analysis?a("div",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",[a("TimeSeries",{attrs:{indicator:e.activeIndicator}})],1)],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",[a("Pie",{attrs:{indicator:e.activeIndicator}})],1)],1),a("v-divider"),a("v-row",[a("v-col",[a("Bar",{attrs:{indicator:e.activeIndicator}})],1)],1)],1):a("div",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-skeleton-loader",e._b({attrs:{type:"card-avatar, article, card-avatar, article"}},"v-skeleton-loader",e.attrs,!1))],1)],1)],1)],1)],1)],1)],1)],1)],1)},Ce=[],Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.indicator.res.analysis?a("div",[a("v-chart",{staticClass:"chart px-2 my-5",staticStyle:{height:"350px"},attrs:{autoresize:"",option:e.option,loading:e.statsLoading,"loading-options":e.loadingOptions}})],1):e._e()},Ae=[],Ee=a(4297),xe={props:["indicator"],components:{VChart:Ee.ZP},computed:{...(0,w.rn)({selectedCountry:e=>e.boundary.selectedCountry,countryNames:e=>e.boundary.countryNames,selectedForest:e=>e.boundary.selectedForest,forests:e=>e.boundary.forests,statsLoading:e=>e.layers.statsLoading})},data(){return{option:{title:{text:"",left:"left",subtext:""},toolbox:{show:!0,feature:{saveAsImage:{show:!0},top:0}},grid:{left:"3%",right:"10%",bottom:"3%",containLabel:!0},tooltip:{trigger:"axis"},xAxis:{type:"category",data:[],axisLabel:{show:!0,interval:0,rotate:25}},yAxis:{type:"value"},series:{data:[],type:"bar"},legend:{}},loadingOptions:{maskColor:"transparent",spinnerRadius:20,text:"",lineWidth:3,color:"#f6ca0a"}}},mounted(){this.fetchData(),this.subscribeToStore()},methods:{subscribeToStore(){this.dataUnsubscribe=this.$store.subscribe((e=>{switch(e.type){case"SET_ANALYSIS":this.fetchData();break}}))},fetchData(){this.option.title.text=`${this.indicator.name} (Hectares)`,this.selectedForest?this.option.title.subtext=`${this.forests.features.find((e=>e.properties.id===this.selectedForest.toString())).properties.name} Forest`+(this.indicator.params?` in ${this.indicator.params?.selectedYear}`:""):this.selectedCountry?this.option.title.subtext=`All forests in ${this.countryNames.find((e=>e.id===this.selectedCountry)).name}`+(this.indicator.params?` in ${this.indicator.params?.selectedYear}`:""):this.option.title.subtext="All Forests in East Africa"+(this.indicator.params?` in ${this.indicator.params?.selectedYear}`:""),this.option.xAxis.data=[],this.option.series.data=this.indicator.res.analysis,this.indicator.res.analysis&&this.indicator.res.analysis.map((e=>{this.option.xAxis.data.push(e.name)}))}}},we=xe,Ie=(0,d.Z)(we,Te,Ae,!1,null,null,null),Le=Ie.exports,Fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.indicator.res.analysis?a("div",[a("v-chart",{staticClass:"chart px-2 my-3 text-wrap",staticStyle:{"min-height":"300px"},attrs:{option:e.option,autoresize:"",loading:e.statsLoading,"loading-options":e.loadingOptions}})],1):e._e()},De=[],ke={props:["indicator"],components:{VChart:Ee.ZP},computed:{...(0,w.rn)({selectedCountry:e=>e.boundary.selectedCountry,countryNames:e=>e.boundary.countryNames,selectedForest:e=>e.boundary.selectedForest,forests:e=>e.boundary.forests,statsLoading:e=>e.layers.statsLoading})},data(){return{option:{title:{text:"",subtext:"All Forests in East Africa",left:"left"},subtitle:{text:"hello"},textStyle:{},tooltip:{},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},saveAsImage:{show:!0}},top:0},series:{type:"pie",radius:["20%","60%"],center:["50%","55%"],itemStyle:{borderRadius:8,margin:100},data:[]}},loadingOptions:{maskColor:"transparent",spinnerRadius:20,text:"",lineWidth:3,color:"#f6ca0a"}}},mounted(){this.fetchData(),this.subscribeToStore()},methods:{subscribeToStore(){this.dataUnsubscribe=this.$store.subscribe((e=>{switch(e.type){case"SET_ANALYSIS":this.fetchData();break}}))},fetchData(){this.option.title.text=`${this.indicator.name} (Hectares)`,this.selectedForest?this.option.title.subtext=`${this.forests.features.find((e=>e.properties.id===this.selectedForest.toString())).properties.name} Forest`+(this.indicator.params?` in ${this.indicator.params?.selectedYear}`:""):this.selectedCountry?this.option.title.subtext=`All forests in ${this.countryNames.find((e=>e.id===this.selectedCountry)).name}`+(this.indicator.params?` in ${this.indicator.params?.selectedYear}`:""):this.option.title.subtext="All Forests in East Africa"+(this.indicator.params?` in ${this.indicator.params?.selectedYear}`:""),this.option.series.data=this.indicator.res.analysis}}},Oe=ke,Ze=(0,d.Z)(Oe,Fe,De,!1,null,null,null),Ne=Ze.exports,$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.selectedForest&&e.indicator.timeseriesEnable?a("div",[a("v-card",[a("v-img",{staticStyle:{"object-fit":"cover",width:"100%",height:"350px"},attrs:{src:e.indicator.res.timeseries,alt:"Time Series"}},[e.timeseriesLoading?a("div",{staticClass:"loader"},[a("div",{staticClass:"lds-ellipsis"},[a("div"),a("div"),a("div"),a("div")])]):e._e()]),a("v-card-title",[e._v(" "+e._s(e.indicator.name)+" Animation ")]),a("v-card-subtitle",[a("b",[e._v(e._s(e.forestProps.properties.name)+" Forest")]),e._v(" in "+e._s(e.forestProps.properties.country))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green lighten-2",text:"",href:e.indicator.res.timeseries,target:"_blank"}},[e._v(" Download ")])],1)],1)],1):e._e()},Ve=[],Re={name:"TimeSeries",props:["indicator"],computed:{...(0,w.rn)({forests:e=>e.boundary.forests,selectedForest:e=>e.boundary.selectedForest,timeseriesLoading:e=>e.layers.timeseriesLoading}),forestProps(){if(this.selectedForest){let e=this.forests.features.find((e=>e.properties.id===this.selectedForest.toString()));return e}}}},Me=Re,Be=a(7047),Pe=(0,d.Z)(Me,$e,Ve,!1,null,"d21e94c8",null),Ge=Pe.exports;p()(Pe,{VBtn:m.Z,VCard:h.Z,VCardActions:v.h7,VCardSubtitle:v.Qq,VCardTitle:v.EB,VImg:Be.Z,VSpacer:b.Z});var Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{attrs:{flat:""}},[a("v-card-title",{staticClass:"font-weight-heavy pb-0",staticStyle:{"font-size":"18px"}},[a("LayerHeader",{attrs:{indicator:e.currentIndicator}})],1),a("AdminSelector"),a("PeriodSelector",{attrs:{indicator:e.currentIndicator}})],1)],1)},Ye=[],ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-divider"),e.indicator.params?a("v-card",{attrs:{flat:""}},[a("v-card-title",{staticClass:"pt-2 pb-0 grey--text text--darken-2",staticStyle:{"font-size":"16px"}},[e._v(" Period ")]),a("v-card-text",{attrs:{"data-tour-step":"config"}},[a("v-select",{attrs:{items:e.indicator.paramsSelectorConfig[0].options,"item-text":"name",label:"Select Year","item-value":"value","hide-details":"",value:e.indicator.params.selectedYear,"prepend-icon":"mdi-calendar",color:"green","item-color":"green"},on:{input:e.updateDate}})],1)],1):e._e()],1)},je=[],He={props:["indicator"],methods:{updateDate(e){this.$store.map.getLayer("indicator")&&this.$store.map.removeLayer("indicator"),this.$store.map.getSource("indicator")&&this.$store.map.removeSource("indicator"),this.$store.commit("UPDATE_YEAR",{slug:this.indicator.slug,year:e})}}},qe=He,Je=a(8994),We=(0,d.Z)(qe,ze,je,!1,null,"0b6bd072",null),Ke=We.exports;p()(We,{VCard:h.Z,VCardText:v.ZB,VCardTitle:v.EB,VDivider:y.Z,VSelect:Je.Z});var Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{attrs:{flat:""}},[a("v-card-text",{staticClass:"admin"},[e.selectedCountry?e._e():a("p",{staticClass:"pt-0",staticStyle:{"font-size":"17px"}},[a("v-icon",[e._v("mdi-earth")]),e._v(" East Africa ")],1),a("v-autocomplete",{staticClass:"pt-0",attrs:{"data-tour-step":"aoi",items:e.countries,"item-text":"name",label:"Select Country","item-value":"id","persistent-hint":"","prepend-icon":"mdi-map-marker-path","no-data-text":"No Countries available",color:"green","append-icon":"mdi-chevron-down","item-color":"green",clearable:"","hide-details":""},on:{input:function(t){return e.updateCountry(1)}},model:{value:e.selectedCountry,callback:function(t){e.selectedCountry=t},expression:"selectedCountry"}}),e.selectedCountry?a("v-autocomplete",{attrs:{items:e.forests,"item-text":"properties.forest_name","item-value":"properties.id",label:"Select Forest",clearable:"","hide-details":"","prepend-icon":"mdi-tree","no-data-text":"No Forests available",color:"green","append-icon":"mdi-chevron-down","item-color":"green"},model:{value:e.selectedForest,callback:function(t){e.selectedForest=t},expression:"selectedForest"}}):e._e()],1)],1)],1)},Xe=[],et={computed:{...(0,w.rn)({countries:e=>e.boundary.countryNames,forests:e=>e.boundary.forestNames,forestFeatures:e=>e.boundary.forests}),selectedCountry:{get(){return this.$store.state.boundary.selectedCountry},set(e){return this.$store.commit("UPDATE_COUNTRY",e)}},selectedForest:{get(){return this.$store.state.boundary.selectedForest},set(e){if(e){let t=this.forestFeatures.features.find((t=>t.properties.id===e.toString()));t&&this.$store.commit("SET_BOUNDARY",{features:[t],type:"FeatureCollection"})}return e||this.$store.dispatch("fetchBoundaries",{country:this.selectedCountry,level:1}),this.$store.commit("UPDATE_FOREST",e)}}},methods:{updateCountry(e){this.selectedCountry||this.selectedForest?this.selectedCountry&&!this.selectedForest&&(e=1):e=0,this.selectedCountry?this.$store.dispatch("fetchBoundaries",{country:this.selectedCountry,level:e}):this.$store.dispatch("resetBoundary")}}},tt=et,at=a(1835),st=(0,d.Z)(tt,Qe,Xe,!1,null,"6ab6a944",null),it=st.exports;p()(st,{VAutocomplete:at.Z,VCard:h.Z,VCardText:v.ZB,VIcon:g.Z});var ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticStyle:{"word-break":"normal"}},[a("div",[e._v(" "+e._s(e.indicator.name)+" ")])]),a("v-col",{attrs:{cols:"3"}},[a("Metadata",{staticClass:"float-start my-2",attrs:{indicator:e.indicator}})],1)],1)},rt=[],nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{width:"800",origin:"top center"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"float-end",attrs:{icon:"","data-tour-step":"metadata"}},"v-btn",i,!1),s),[a("v-icon",{attrs:{small:""}},[e._v("mdi-information")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e.indicator.metadata?a("v-card",[a("v-card-title",{staticClass:"text-h5 py-9"},[e._v(" "+e._s(e.indicator.metadata.title)+" ")]),e.indicator.metadata.overview?a("v-divider"):e._e(),e.indicator.metadata.overview?a("v-card-text",{staticClass:"pt-2 px-9"},[a("span",[a("h3",[e._v("Overview")]),a("span",{domProps:{innerHTML:e._s(e.indicator.metadata.overview)}})])]):e._e(),a("v-divider"),a("v-card-text",{staticClass:"py-4"},[a("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[a("tbody",[e.indicator.metadata.function?a("tr",[a("td",{staticClass:"font-weight-medium",staticStyle:{"font-size":"12px"}},[e._v(" FUNCTION ")]),a("td",{domProps:{innerHTML:e._s(e.indicator.metadata.function)}})]):e._e(),e.indicator.metadata.resolution?a("tr",[a("td",{staticClass:"font-weight-medium",staticStyle:{"font-size":"12px"}},[e._v(" RESOLUTION ")]),a("td",{domProps:{innerHTML:e._s(e.indicator.metadata.resolution)}})]):e._e(),e.indicator.metadata.geographic_coverage?a("tr",[a("td",{staticClass:"font-weight-medium",staticStyle:{"font-size":"12px"}},[e._v(" COVERAGE ")]),a("td",{domProps:{innerHTML:e._s(e.indicator.metadata.geographic_coverage)}})]):e._e(),e.indicator.metadata.source?a("tr",[a("td",{staticClass:"font-weight-medium",staticStyle:{"font-size":"12px"}},[e._v(" SOURCE ")]),a("td",{domProps:{innerHTML:e._s(e.indicator.metadata.source)}})]):e._e(),e.indicator.metadata.license?a("tr",[a("td",{staticClass:"font-weight-medium",staticStyle:{"font-size":"12px"}},[e._v(" LICENSE ")]),a("td",{domProps:{innerHTML:e._s(e.indicator.metadata.license)}})]):e._e(),e.indicator.metadata.frequency_of_updates?a("tr",[a("td",{staticClass:"font-weight-medium",staticStyle:{"font-size":"12px"}},[e._v(" FREQUENCY OF UPDATES ")]),a("td",{domProps:{innerHTML:e._s(e.indicator.metadata.frequency_of_updates)}})]):e._e(),e.indicator.metadata.data_availability?a("tr",[a("td",{staticClass:"font-weight-medium",staticStyle:{"font-size":"12px"}},[e._v(" DATA AVAILABILITY ")]),a("td",{domProps:{innerHTML:e._s(e.indicator.metadata.data_availability)}})]):e._e(),e.indicator.metadata.cautions?a("tr",[a("td",{staticClass:"font-weight-medium",staticStyle:{"font-size":"12px"}},[e._v(" DISCLAIMER ")]),a("td",{domProps:{innerHTML:e._s(e.indicator.metadata.cautions)}})]):e._e(),e.indicator.metadata.citations?a("tr",[a("td",{staticClass:"font-weight-medium",staticStyle:{"font-size":"12px"}},[e._v(" CITATIONS ")]),a("td",{domProps:{innerHTML:e._s(e.indicator.metadata.citations)}})]):e._e()])]},proxy:!0}],null,!1,1971307363)})],1),e.indicator.metadata.learn_more?a("v-divider"):e._e(),e.indicator.metadata.learn_more?a("v-card-actions",{staticClass:"justify-center pb-4"},[a("v-btn",{staticClass:"px-6",attrs:{rounded:"",href:e.indicator.metadata.learn_more,target:"_blank",color:"green",dark:""}},[e._v(" Learn More ")])],1):e._e()],1):e._e()],1)},lt=[],ct={props:["indicator"],data(){return{dialog:!1}}},dt=ct,ut=a(3568),pt=(0,d.Z)(dt,nt,lt,!1,null,"d9442a40",null),mt=pt.exports;p()(pt,{VBtn:m.Z,VCard:h.Z,VCardActions:v.h7,VCardText:v.ZB,VCardTitle:v.EB,VDialog:f.Z,VDivider:y.Z,VIcon:g.Z,VSimpleTable:ut.Z});var ht={components:{Metadata:mt},props:["indicator"]},vt=ht,ft=a(2102),yt=a(2877),gt=(0,d.Z)(vt,ot,rt,!1,null,"231856d9",null),bt=gt.exports;p()(gt,{VCol:ft.Z,VRow:yt.Z});var _t={props:["currentIndicator"],components:{PeriodSelector:Ke,AdminSelector:it,LayerHeader:bt},mounted(){this.subscribeToStore()},computed:{...(0,w.rn)({countries:e=>e.boundary.countryNames,forests:e=>e.boundary.forestNames,forestFeatures:e=>e.boundary.forests,indicators:e=>e.layers.indicators,boundaries:e=>e.boundary.boundaries,selectedCountry:e=>e.boundary.selectedCountry})},methods:{subscribeToStore(){this.dataUnsubscribe=this.$store.subscribe((async e=>{switch(e.type){case"UPDATE_COUNTRY":this.$store.dispatch("fetchForestNames",{iso:this.selectedCountry});break}}))}}},St=_t,Ct=(0,d.Z)(St,Ue,Ye,!1,null,null,null),Tt=Ct.exports;p()(Ct,{VCard:h.Z,VCardTitle:v.EB});var At={components:{Bar:Le,Pie:Ne,TimeSeries:Ge,Layer:Tt},data(){return{analysis:!1,layers:!1,attrs:{class:"mb-2 pt-2 px-0"}}},computed:{...(0,w.rn)({indicators:e=>e.layers.indicators}),...(0,w.Se)({activeIndicator:"ACTIVE_INDICATOR"}),selectedIndicator:{get(){return this.activeIndicator.id},set(e){return this.$store.dispatch("setActive",{id:e})}}},methods:{toggleTabLayers(){this.layers=!this.layers&&(this.layers=!0),this.analysis=!1},toggleTabAnalysis(){this.analysis=!this.analysis&&(this.analysis=!0),this.layers=!1}}},Et=At,xt=a(3293),wt=a(1165),It=a(9846),Lt=a(6487),Ft=a(681),Dt=a(3385),kt=a(2177),Ot=(0,d.Z)(Et,Se,Ce,!1,null,"8dec11ba",null),Zt=Ot.exports;p()(Ot,{VBottomNavigation:xt.Z,VBottomSheet:wt.Z,VBtn:m.Z,VCol:ft.Z,VContainer:It.Z,VDivider:y.Z,VIcon:g.Z,VRadio:Lt.Z,VRadioGroup:Ft.Z,VRow:yt.Z,VSheet:Dt.Z,VSkeletonLoader:kt.Z});var Nt=a(7592),$t=a(6158),Vt=a.n($t);const Rt=(e,t,a,s=null,i=null)=>{e.getLayer(t)&&e.removeLayer(t),e.getSource(t)&&e.removeSource(t),"raster"===a?e.getSource(t)||e.getLayer(t)||e.addSource(t,{type:"raster",tiles:[s],tileSize:256}):"vector"===a?e.getSource(t)||e.getLayer(t)||e.addSource(t,{type:"vector",tiles:[s]}):"geojson"===a?e.addSource(t,{type:"geojson",data:i}):console.log("Data type not supported!")},Mt=(e,t)=>{if(e&&"IGAD"!==t.iso){e.getLayer("admin-level-1-layer")&&(e.removeLayer("admin-level-1-layer"),e.removeLayer("admin-level-1-layer-inner")),e.getSource("admin-level-1")&&e.removeSource("admin-level-1"),e.addSource("admin-level-1",{type:"geojson",data:t}),e.addLayer({id:"admin-level-1-layer",type:"line",source:"admin-level-1",paint:{"line-width":2,"line-color":"#a08005","line-opacity":.3,"line-gap-width":2},layout:{"line-cap":"round"}}),e.addLayer({id:"admin-level-1-layer-inner",type:"line",source:"admin-level-1",paint:{"line-width":2,"line-color":"#b35807","line-opacity":1},layout:{"line-cap":"round"}});let a=(0,Nt.Z)(t);e.fitBounds(a,{padding:30,easing:e=>e,linear:!0,animate:!0})}else if("IGAD"===t.iso){e.getLayer("admin-level-1-layer")&&(e.removeLayer("admin-level-1-layer"),e.removeLayer("admin-level-1-layer-inner")),e.getSource("admin-level-1")&&e.removeSource("admin-level-1"),e.addSource("admin-level-1",{type:"geojson",data:t});let a=(0,Nt.Z)(t);e.fitBounds(a,{padding:30,easing:e=>e,linear:!0,animate:!0})}},Bt=(e,t,a)=>{t.on("click",(s=>{const i=[[s.point.x-5,s.point.y-5],[s.point.x+5,s.point.y+5]],o=t.queryRenderedFeatures(i,{layers:["ea_forests_fill"]});if(o.length>0){const i=o[0].properties,{country:r,forest_name:n,id:l,iso:c}=i,d=(new(Vt().Popup)).setLngLat(s.lngLat).setHTML('<div id="popup-content"></div>').addTo(t),u={country:r,forest_name:n,id:l,iso:c,geom:o[0]},p=new a({store:e,propsData:{params:u}});p.$mount("#popup-content"),d._update()}})),t.on("mouseenter","ea_forests_fill",(()=>{t.getCanvas().style.cursor="pointer"})),t.on("mouseleave","ea_forests_fill",(()=>{t.getCanvas().style.cursor=""}))},Pt=s.Z.extend(_e);var Gt={components:{MglMap:K.Q3,MglNavigationControl:K.RV,MglScaleControl:K.RQ,Legend:ue,BottomNav:Zt},data(){return{accessToken:"pk.eyJ1IjoiZ3JhY2VhbW9uZGkiLCJhIjoiY2s4dGphcGQwMDBhcjNmcnkzdGk3MnlrZCJ9.54r40Umo0l3dHseEbrQpUg",mapStyle:"mapbox://styles/graceamondi/cl2wcr0rg00do14mfbmsifd4x",center:[36.6235,5.92859],zoom:3.7}},computed:{...(0,w.rn)({forests:e=>e.boundary.forests,boundaries:e=>e.boundary.boundaries,layerLoading:e=>e.layers.layerLoading,isMobile:e=>e.ui.isMobile}),...(0,w.Se)({activeIndicator:"ACTIVE_INDICATOR"})},mounted(){this.subscribeToStore()},methods:{onMapLoaded(e){this.$store.map=e.map,this.$store.dispatch("fetchForestBoundaries"),Rt(this.$store.map,"pgadapter.ea_gadm36_political_boundaries","vector","https://eahazardswatch.icpac.net/pg/tileserv/pgadapter.ea_gadm36_political_boundaries/{z}/{x}/{y}.pbf");const t=[{id:"level-0-fill",filter:["==","level",0],maxzoom:3.5,paint:{"fill-color":"#ffffff","fill-opacity":0},"source-layer":"pgadapter.ea_gadm36_political_boundaries",source:"pgadapter.ea_gadm36_political_boundaries",type:"fill"},{id:"level-0-line",filter:["==","level",0],paint:{"line-color":"#32632e","line-opacity":.5,"line-width":1},"source-layer":"pgadapter.ea_gadm36_political_boundaries",source:"pgadapter.ea_gadm36_political_boundaries",type:"line"},{id:"level-2-fill",filter:["==","level",2],minzoom:7,paint:{"fill-color":"#ffffff","fill-opacity":0},"source-layer":"pgadapter.ea_gadm36_political_boundaries",source:"pgadapter.ea_gadm36_political_boundaries",type:"fill"},{id:"level-2-line",filter:["==","level",2],minzoom:7,paint:{"line-color":"#f1f1f1","line-opacity":.7,"line-dasharray":[2,4],"line-width":1},"source-layer":"pgadapter.ea_gadm36_political_boundaries",source:"pgadapter.ea_gadm36_political_boundaries",type:"line"}];t.map((e=>{this.$store.map.addLayer(e)})),Mt(this.$store.map,this.boundaries),Bt(this.$store,this.$store.map,Pt)},subscribeToStore(){this.dataUnsubscribe=this.$store.subscribe((e=>{switch(e.type){case"SET_INDICATOR":const{res:e}=this.activeIndicator;Rt(this.$store.map,"indicator","raster",e.tile),this.$store.map.addLayer({id:"indicator",type:"raster",source:"indicator",paint:{"raster-opacity":.9}},"ea_forests");break;case"SET_FORESTS_BOUNDARIES":Rt(this.$store.map,"ea_forests","geojson",null,this.forests),this.$store.map.addLayer({id:"ea_forests",type:"line",source:"ea_forests",paint:{"line-color":"#116e00","line-opacity":.9,"line-width":2}}),this.$store.map.addLayer({id:"ea_forests_fill",type:"fill",source:"ea_forests",paint:{"fill-color":"#70a801","fill-opacity":.1}});break;case"SET_BOUNDARY":Mt(this.$store.map,this.boundaries);break;case"RESET_BOUNDARY":Mt(this.$store.map,this.boundaries);break;case"UPDATE_FOREST":Mt(this.$store.map,this.boundaries);break}}))}}},Ut=Gt,Yt=(0,d.Z)(Ut,J,W,!1,null,"42ff5a74",null),zt=Yt.exports,jt={components:{Map:zt,Bar:Le,Pie:Ne,TimeSeries:Ge,Layer:Tt},data(){return{tabs:null,attrs:{class:"mb-6 pt-2 px-2"}}},computed:{...(0,w.rn)({indicators:e=>e.layers.indicators}),...(0,w.Se)({activeIndicator:"ACTIVE_INDICATOR"})},methods:{updateIndicator(e){let t=this.indicators.find((t=>t.id===parseInt(e)));t&&this.$store.dispatch("setActive",{id:t.id})}}},Ht=jt,qt=a(4227),Jt=a(1759),Wt=a(3987),Kt=(0,d.Z)(Ht,H,q,!1,null,null,null),Qt=Kt.exports;p()(Kt,{VCol:ft.Z,VContainer:It.Z,VDivider:y.Z,VIcon:g.Z,VRow:yt.Z,VSkeletonLoader:kt.Z,VTab:qt.Z,VTabItem:Jt.Z,VTabs:Wt.Z});var Xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Map",{staticStyle:{margin:"auto",height:"100%"}})],1)},ea=[],ta={components:{Map:zt}},aa=ta,sa=(0,d.Z)(aa,Xt,ea,!1,null,null,null),ia=sa.exports,oa={components:{Mobile:ia,Desktop:Qt},computed:{...(0,w.rn)({isMobile:e=>e.ui.isMobile,indicators:e=>e.layers.indicators,forests:e=>e.boundary.forests,selectedForest:e=>e.boundary.selectedForest,selectedCountry:e=>e.boundary.selectedCountry,boundaries:e=>e.boundary.boundaries,statsLoading:e=>e.layers.statsLoading}),...(0,w.Se)({activeIndicator:"ACTIVE_INDICATOR"})},created(){window.innerWidth<=768?this.$store.dispatch("toggleMobile",{isMobile:!0}):this.$store.dispatch("toggleMobile",{isMobile:!1})},mounted(){addEventListener("resize",(()=>{window.innerWidth<=768?this.$store.dispatch("toggleMobile",{isMobile:!0}):this.$store.dispatch("toggleMobile",{isMobile:!1})})),this.subscribeToStore()},methods:{subscribeToStore(){this.dataUnsubscribe=this.$store.subscribe((async e=>{switch(e.type){case"UPDATE_FOREST":if(this.$store.commit("SET_TS_LOADING",!0),this.selectedForest){let e=this.forests.features.find((e=>e.properties.id===this.selectedForest.toString()));this.$store.dispatch("fetchTimeseries",{id:e.properties.id,bboxPoly:e.geometry,slug:this.activeIndicator.slug})}break;case"SET_ACTIVE":if(this.$store.commit("SET_LAYER_LOADING",!0),this.$store.commit("SET_TS_LOADING",!0),this.$store.commit("SET_STATS_LOADING",!0),await this.$store.dispatch("fetchIndicator",{slug:this.activeIndicator.slug,params:this.activeIndicator.params}),this.activeIndicator.timeseriesEnable){let e=this.forests.features.find((e=>e.properties.id===this.selectedForest));e&&this.$store.dispatch("fetchTimeseries",{id:e.properties.id,bboxPoly:e.geometry,slug:this.activeIndicator.slug})}this.selectedCountry&&!this.selectedForest&&this.$store.dispatch("fetchAnalysis",{features:this.forests.features.filter((e=>e.properties.iso===this.selectedCountry)),slug:this.activeIndicator.slug,params:this.activeIndicator.params,key:this.selectedCountry}),this.selectedCountry&&this.selectedForest&&this.$store.dispatch("fetchAnalysis",{features:this.boundaries.features,slug:this.activeIndicator.slug,params:this.activeIndicator.params,key:this.boundaries.features[0].properties.name.replace(/\s/g,"_")}),this.selectedForest||this.selectedCountry||this.$store.dispatch("fetchAnalysis",{features:this.boundaries.features,slug:this.activeIndicator.slug,params:this.activeIndicator.params,key:"IGAD_Forests"});break;case"UPDATE_YEAR":this.$store.commit("SET_LAYER_LOADING",!0),this.$store.commit("SET_STATS_LOADING",!0),await this.$store.dispatch("fetchIndicator",{slug:this.activeIndicator.slug,params:this.activeIndicator.params}),this.selectedCountry&&!this.selectedForest&&this.$store.dispatch("fetchAnalysis",{features:this.forests.features.filter((e=>e.properties.iso===this.selectedCountry)),slug:this.activeIndicator.slug,params:this.activeIndicator.params,key:this.selectedCountry}),this.selectedCountry&&this.selectedForest&&this.$store.dispatch("fetchAnalysis",{features:this.boundaries.features,slug:this.activeIndicator.slug,params:this.activeIndicator.params,key:this.boundaries.features[0].properties.name.replace(/\s/g,"_")});break;case"SET_BOUNDARY":this.$store.commit("SET_STATS_LOADING",!0),this.selectedCountry&&!this.selectedForest&&this.$store.dispatch("fetchAnalysis",{features:this.forests.features.filter((e=>e.properties.iso===this.selectedCountry)),slug:this.activeIndicator.slug,params:this.activeIndicator.params,key:this.selectedCountry}),this.selectedCountry&&this.selectedForest&&this.$store.dispatch("fetchAnalysis",{features:this.boundaries.features,slug:this.activeIndicator.slug,params:this.activeIndicator.params,key:this.boundaries.features[0].properties.name.replace(/\s/g,"_")});break;case"RESET_BOUNDARY":this.$store.commit("SET_STATS_LOADING",!0),this.$store.dispatch("fetchAnalysis",{features:this.boundaries.features,slug:this.activeIndicator.slug,params:this.activeIndicator.params,key:"IGAD_Forests"});break;case"SET_FORESTS_BOUNDARIES":this.$store.commit("SET_LAYER_LOADING",!0),this.$store.commit("SET_STATS_LOADING",!0),this.$store.dispatch("fetchIndicator",{slug:this.activeIndicator.slug,params:this.activeIndicator.params}),this.$store.dispatch("fetchAnalysis",{features:this.boundaries.features,slug:this.activeIndicator.slug,params:this.activeIndicator.params,key:"IGAD_Forests"});break}}))}}},ra=oa,na=(0,d.Z)(ra,z,j,!1,null,null,null),la=na.exports;s.Z.use(Y.Z);const ca=[{path:"/",name:"dashboard",component:la}],da=new Y.Z({mode:"history",base:"/forestdash/",routes:ca});var ua=da;const pa=()=>({forests:null,countryNames:[{id:"ETH",name:"Ethiopia"},{id:"KEN",name:"Kenya"},{id:"RWA",name:"Rwanda"},{id:"SSD",name:"South Sudan"},{id:"TZA",name:"Tanzania"},{id:"UGA",name:"Uganda"},{id:"BDI",name:"Burundi"},{id:"DJI",name:"Djibouti"},{id:"ERI",name:"Eritrea"},{id:"SOM",name:"Somalia"},{id:"SDN",name:"Sudan"}],forestNames:[],selectedCountry:null,selectedForest:null,boundaries:{iso:"IGAD",type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[[20.6103515625,-12.039320557540572],[51.943359375,-12.039320557540572],[51.943359375,22.755920681486405],[20.6103515625,22.755920681486405],[20.6103515625,-12.039320557540572]]]}}]}}),ma={state:pa(),getters:{},mutations:{UPDATE_COUNTRY:(e,t)=>e.selectedCountry=t,UPDATE_FOREST:(e,t)=>e.selectedForest=t,SET_FORESTS_BOUNDARIES:(e,t)=>e.forests=t,SET_BOUNDARY:(e,t)=>{let a=(0,Nt.Z)(t);return t["bbox"]=a,e.boundaries=t},SET_FOREST_NAMES:(e,t)=>{if(e.forests)return e.forestNames=e.forests.features.filter((e=>e.properties.iso==t.iso)),e.forestNames},RESET_BOUNDARY(e){Object.assign(e.boundaries,pa().boundaries)}},actions:{fetchForestBoundaries:async({commit:e})=>{try{const t=await fetch("https://droughtwatch.icpac.net:8022/forests"),a=await t.json();e("SET_FORESTS_BOUNDARIES",a.forests)}catch(t){console.log(t)}},fetchBoundaries:async({commit:e},t)=>{try{let a="",s=t.country;1===t.level&&s&&(a=s);const i=await fetch(`https://eahazardswatch.icpac.net/api/geostore/admin/${a}?simplify=0.0005`),o=await i.json();await e("SET_BOUNDARY",o.data.attributes.geojson)}catch(a){return console.log(a)}},fetchForestNames:async({commit:e},t)=>{e("SET_FOREST_NAMES",t)},resetBoundary({commit:e}){e("RESET_BOUNDARY")}}};var ha=ma,va=a(3565);const fa="https://droughtwatch.icpac.net:8022",ya={state:{layerLoading:!0,timeseriesLoading:!0,statsLoading:!0,indicators:[{id:0,slug:"canopy_density",name:"Tree Canopy Cover",icon:{name:"mdi-leaf",color:"orange"},metadata:{title:"Tree Canopy Cover",function:"The Landsat Vegetation Continuous Fields (VCF) tree cover layers contain estimates of the percentage of horizontal ground in each 30-m pixel covered by woody vegetation greater than 5 meters in height.",resolution:"30m",geographic_coverage:"Listed Forests in East Africa",source:"The dataset is derived from the GFCC Surface Reflectance product (GFCC30SR), which is based on enhanced Global Land Survey (GLS) datasets. The GLS datasets are composed of high-resolution Landsat 5 Thematic Mapper (TM) and Landsat 7 Enhanced Thematic Mapper Plus (ETM+) images at 30 meter resolution.",license:"",frequency_of_updates:"",data_availability:"The dataset has been produced for four year epochs: 2000, 2005, 2010, and 2015 ",cautions:"",citations:"Paper/Methods Citation: Sexton, J. O., Song, X.-P., Feng, M., Noojipady, P., Anand, A., Huang, C., Kim, D.-H., Collins, K.M., Channan, S., DiMiceli, C., Townshend, J.R.G. (2013). Global, 30-m resolution continuous fields of tree cover: Landsat-based rescaling of MODIS Vegetation Continuous Fields with lidar-based estimates of error. International Journal of Digital Earth, 130321031236007. doi:10.1080/17538947.2013.786146.",overview:"<b>Tree Canopy Cover</b> refers to the proportion of an area in the field/ground that is covered by the crown of trees and is expressed in percentage of the total area.",learn_more:"https://developers.google.com/earth-engine/datasets/catalog/NASA_MEASURES_GFCC_TC_v3"},req:{year:2015,geom:{}},res:{tile:"",timeseries:"",analysis:null},legendConfig:{title:"Tree Canopy Cover (percentage per pixel)",type:"basic",items:[{name:"0 - 20",color:"#ffffff"},{name:"20 - 40",color:"#afce56"},{name:"40 - 60",color:"#5f9c00"},{name:"60 - 80",color:"#0e6a00"},{name:"80 - 100",color:"#003800"}]},active:!0,timeseriesEnable:!0,analysisEnable:!0,params:{selectedYear:2015},paramsSelectorConfig:[{key:"selectedYear",type:"select",options:[{name:"2000",value:2e3},{name:"2005",value:2005},{name:"2010",value:2010},{name:"2015",value:2015}]}]},{id:1,slug:"forest_or_none",name:"Forest Availability",icon:{name:"mdi-leaf",color:"green"},metadata:{title:"Forest/Non-forest",function:"",resolution:"25m",geographic_coverage:"Listed Forests in East Africa",source:"JAXA",license:"",frequency_of_updates:"",data_availability:"2007-01-01T00:00:00Z - 2018-01-01T00:00:00",cautions:"",citations:'Masanobu Shimada, Takuya Itoh, Takeshi Motooka, Manabu Watanabe, Shiraishi Tomohiro, Rajesh Thapa, and Richard Lucas, "New Global Forest/Non-forest Maps from ALOS PALSAR Data (2007-2010)", Remote Sensing of Environment, 155, pp. 13-31, December 2014. doi:10.1016/j.rse.2014.04.014.',overview:'The global forest/non-forest map (FNF) is generated by classifying the SAR image (backscattering coefficient) in the global 25m resolution PALSAR-2/PALSAR SAR mosaic so that strong and low backscatter pixels are assigned as "forest" and "non-forest", respectively. Here, "forest" is defined as the natural forest with the area larger than 0.5 ha and forest cover over 10%. This definition is the same as the Food and Agriculture Organization (FAO) definition. Since the radar backscatter from the forest depends on the region (climate zone), the classification of Forest/Non-Forest is conducted by using a region-dependent threshold of backscatter.',learn_more:"https://developers.google.com/earth-engine/datasets/catalog/JAXA_ALOS_PALSAR_YEARLY_FNF"},params:{selectedYear:2017},paramsSelectorConfig:[{key:"selectedYear",type:"select",options:[{name:"2007",value:2007},{name:"2008",value:2008},{name:"2009",value:2009},{name:"2010",value:2010},{name:"2015",value:2015},{name:"2016",value:2016},{name:"2017",value:2017}]}],req:{year:2017,geom:{}},res:{tile:"",timeseries:"",analysis:null},legendConfig:{title:"Forest/Non-forest",type:"basic",items:[{name:"Forest",color:"#006400"},{name:"Non-Forest",color:"#FEFF99"},{name:"Water",color:"#0000FF"}]},active:!1,timeseriesEnable:!0,analysisEnable:!0},{id:2,slug:"forest_type",name:"Forest Type",icon:{name:"mdi-nature-people",color:"blue"},params:null,paramsSelectorConfig:null,metadata:{title:"Forest Type",function:"Show distribution of forest types",resolution:"100m",geographic_coverage:"Listed Forests in East Africa",source:"Copernicus Global Land Cover ",license:"",frequency_of_updates:"",data_availability:"2015-01-01T00:00:00Z - 2019-12-31T00:00:00",cautions:"",citations:"Buchhorn, M. ; Lesiv, M. ; Tsendbazar, N. - E. ; Herold, M. ; Bertels, L. ; Smets, B. Copernicus Global Land Cover Layers—Collection 2. Remote Sensing 2020, 12Volume 108, 1044. doi:10.3390/rs12061044",overview:"The Copernicus Global Land Service (CGLS) is earmarked as a component of the Land service to operate a multi-purpose service component that provides a series of bio-geophysical products on the status and evolution of land surface at global scale. Forest Types are classified into: <ul><li>Evergreen needle leaf</li> <li>Evergreen broad leaf</li> <li>Deciduous needle leaf</li><li>Deciduous broad leaf</li><li>Mix of forest types</li>  </ul>",learn_more:"https://developers.google.com/earth-engine/datasets/catalog/COPERNICUS_Landcover_100m_Proba-V-C3_Global"},req:{geom:{}},res:{tile:"",timeseries:"",analysis:null},active:!1,timeseriesEnable:!1,analysisEnable:!0,legendConfig:{title:"Forest Type",type:"basic",items:[{name:"Evergreen needle leaf",color:"#666000"},{name:"Evergreen broad leaf",color:"#009900"},{name:"Deciduous needle leaf",color:"#70663E"},{name:"Deciduous broad leaf",color:"#A0DC00"},{name:"Mix of forest types",color:"#929900"},{name:"Unknown",color:"#282828"}]}},{id:3,slug:"land_cover",name:"Land Cover",icon:{name:"mdi-earth-box",color:"brown"},metadata:{title:"Forest Type",function:"Show distribution of land cover classes",resolution:"100m",geographic_coverage:"Listed Forests in East Africa",source:"Copernicus Global Land Cover ",license:"",frequency_of_updates:"",data_availability:"2015-01-01T00:00:00Z - 2019-12-31T00:00:00",cautions:"",citations:"Buchhorn, M. ; Lesiv, M. ; Tsendbazar, N. - E. ; Herold, M. ; Bertels, L. ; Smets, B. Copernicus Global Land Cover Layers—Collection 2. Remote Sensing 2020, 12Volume 108, 1044. doi:10.3390/rs12061044",overview:"The Copernicus Global Land Service (CGLS) is earmarked as a component of the Land service to operate a multi-purpose service component that provides a series of bio-geophysical products on the status and evolution of land surface at global scale.",learn_more:"https://developers.google.com/earth-engine/datasets/catalog/COPERNICUS_Landcover_100m_Proba-V-C3_Global"},req:{geom:{}},res:{tile:"",timeseries:"",analysis:null},active:!1,timeseriesEnable:!1,analysisEnable:!1,legendConfig:{title:"Land Cover",type:"basic",items:[{name:"Shrubs",color:"#FFBB22"},{name:"Herbaceous vegetation",color:"#FFFF4C"},{name:"Cultivated and managed vegetation / agriculture",color:"#F096FF"},{name:"Urban / built up",color:"#FA0000"},{name:"Bare / sparse vegetation",color:"#B4B4B4"},{name:"Snow and ice",color:"#F0F0F0"},{name:"Permanent water bodies",color:"#0032C8"},{name:"Herbaceous wetland",color:"#0096A0"},{name:"Moss and lichen",color:"#FAE6A0"},{name:"Closed forest, evergreen needle leaf",color:"#58481F"},{name:"Closed forest, evergreen broad leaf",color:"#009900"},{name:"Closed forest, deciduous needle leaf",color:"#70663E"},{name:"Closed forest,deciduous broad leaf",color:"#00CC00"},{name:"Closed forest, mixed",color:"#4E751F"},{name:"Open forest, evergreen needle leaf",color:"#666000"},{name:"Open forest, evergreen broad leaf",color:"#8DB400"},{name:"Open forest, deciduous needle leaf",color:"#8D7400"},{name:"Open forest, deciduous broad leaf",color:"#A0DC00"},{name:"Open forest, mixed",color:"#929900"}]},params:null,paramsSelectorConfig:null}]},getters:{ACTIVE_INDICATOR:e=>{let t=e.indicators.find((e=>e.active));return t}},mutations:{UPDATE_YEAR:(e,t)=>{let a=e.indicators.find((e=>e.slug===t.slug));a.params.selectedYear=t.year},UPDATE_DATERANGE:(e,t)=>{let a=e.indicators.find((e=>e.slug===t.slug));a.req.dateRange=t.dateRange},SET_ACTIVE:(e,t)=>{e.indicators.map((e=>{e.id===t.id?e.active=!0:e.active=!1}))},SET_INDICATOR:(e,t)=>{e.indicators.map((e=>{e.slug===t.slug&&(e.res["tile"]=t.tile)}))},SET_LAYER_LOADING:(e,t)=>{e.layerLoading=t},SET_TS_LOADING:(e,t)=>{e.timeseriesLoading=t},SET_STATS_LOADING:(e,t)=>{e.statsLoading=t},SET_TIMESERIES:(e,t)=>{e.indicators.map((e=>{e.slug===t.slug&&e.timeseriesEnable&&(e.res["timeseries"]=t.timeseries)}))},SET_ANALYSIS:(e,t)=>{e.indicators.map((e=>{e.slug===t.slug&&(e.res["analysis"]=t.analysis)}))}},actions:{fetchIndicator:async({commit:e},t)=>{try{const a=await fetch(`${fa}/${t.slug}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({year:t.params?.selectedYear,dateRange:t.req?.dateRange})}),s=await a.json();await e("SET_INDICATOR",{tile:s.tile,slug:t.slug}),e("SET_LAYER_LOADING",!1)}catch(a){console.log(a),e("SET_LAYER_LOADING",!1)}},fetchTimeseries:async({commit:e},t)=>{try{console.log(t.id);const a=await fetch(`${fa}/${t.slug}_ts`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:t.id,features:(0,va.Z)(t.bboxPoly),year:t.params?.selectedYear,dateRange:t.req?.dateRange})}),s=await a.json();await e("SET_TIMESERIES",{timeseries:s.timeseries,slug:t.slug}),e("SET_TS_LOADING",!1)}catch(a){console.log(a),e("SET_TS_LOADING",!1)}},fetchAnalysis:async({commit:e},t)=>{try{const a=await fetch(`${fa}/${t.slug}_stats`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({features:t.features,year:t.params?.selectedYear,dateRange:t.req?.dateRange,key:t?.key})}),s=await a.json();await e("SET_ANALYSIS",{analysis:s.analysis,slug:t.slug}),e("SET_STATS_LOADING",!1)}catch(a){console.log(a),e("SET_STATS_LOADING",!1)}},setActive:async({commit:e},t)=>{e("SET_ACTIVE",t)}}};var ga=ya;const ba={state:()=>({isMobile:!1}),getters:{},mutations:{TOGGLE_MOBILE:(e,t)=>(e.isMobile=t.isMobile,e.isMobile)},actions:{toggleMobile:async({commit:e},t)=>{e("TOGGLE_MOBILE",t)}}};var _a=ba;s.Z.use(w.ZP);var Sa=new w.ZP.Store({modules:{boundary:ha,layers:ga,ui:_a}}),Ca=a(9132);s.Z.use(Ca.Z);var Ta=new Ca.Z({}),Aa=a(9057),Ea=a.n(Aa);a(7865);s.Z.config.productionTip=!1,s.Z.use(Ea()),new s.Z({router:ua,store:Sa,vuetify:Ta,render:e=>e(U)}).$mount("#app")}},t={};function a(s){var i=t[s];if(void 0!==i)return i.exports;var o=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(o.exports,o,o.exports,a),o.loaded=!0,o.exports}a.m=e,function(){var e=[];a.O=function(t,s,i,o){if(!s){var r=1/0;for(d=0;d<e.length;d++){s=e[d][0],i=e[d][1],o=e[d][2];for(var n=!0,l=0;l<s.length;l++)(!1&o||r>=o)&&Object.keys(a.O).every((function(e){return a.O[e](s[l])}))?s.splice(l--,1):(n=!1,o<r&&(r=o));if(n){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[s,i,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(s,i){if(1&i&&(s=this(s)),8&i)return s;if("object"===typeof s&&s){if(4&i&&s.__esModule)return s;if(16&i&&"function"===typeof s.then)return s}var o=Object.create(null);a.r(o);var r={};e=e||[null,t({}),t([]),t(t)];for(var n=2&i&&s;"object"==typeof n&&!~e.indexOf(n);n=t(n))Object.getOwnPropertyNames(n).forEach((function(e){r[e]=function(){return s[e]}}));return r["default"]=function(){return s},a.d(o,r),o}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,o,r=s[0],n=s[1],l=s[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(i in n)a.o(n,i)&&(a.m[i]=n[i]);if(l)var d=l(a)}for(t&&t(s);c<r.length;c++)o=r[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},s=self["webpackChunkforestdash"]=self["webpackChunkforestdash"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(1696)}));s=a.O(s)})();
//# sourceMappingURL=app.a66d0ab2.js.map